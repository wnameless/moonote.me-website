# Cloudflare Pages Deployment Configuration

## Project Settings

**Framework Preset**: None (Static HTML)
**Build Command**: (leave empty - no build required)
**Build Output Directory**: `/` (root directory)
**Root Directory**: `/` (default)

## Environment Variables

No environment variables required - all content is static.

## Deployment Notes

This is a static SPA (Single Page Application) with:
- Zero build step required
- Client-side JavaScript ES6 modules
- Tailwind CSS via CDN (development) or CLI build (optional for production)
- All content in `/data/content.json`

### Files Served Directly

```
/index.html           # Entry point
/js/app.js           # Main application (6.6KB)
/js/i18n.js          # Internationalization (1.6KB)
/js/content-loader.js # Content fetcher (562B)
/data/content.json    # All 4 languages (30KB)
/assets/logo.jpg      # Company logo (16KB)
```

## Performance Targets

- ✅ TTI < 2 seconds
- ✅ LCP < 2.5 seconds
- ✅ FID < 100ms
- ✅ CLS < 0.1
- ✅ Total JS < 100KB (actual: 8.8KB)
- ✅ Total page weight < 500KB (actual: ~65KB)

## Cloudflare Pages Setup (Web UI)

1. **Login** to Cloudflare Dashboard
2. **Navigate** to Pages → Create a project
3. **Connect to Git**:
   - Select GitHub repository: `moonote.me-website`
   - Branch: `main` or `master`
4. **Build Settings**:
   - Framework preset: `None`
   - Build command: (leave empty)
   - Build output directory: `/`
5. **Deploy**

## Cloudflare Pages Setup (CLI)

```bash
# Install Wrangler CLI
npm install -g wrangler

# Login to Cloudflare
wrangler login

# Deploy (from repository root)
wrangler pages deploy . --project-name=moonote-me-website

# Or use automatic Git integration (recommended)
# Push to GitHub, Cloudflare Pages will auto-deploy
git push origin main
```

## Custom Domain Setup

After deployment, configure custom domain:

1. Go to Cloudflare Pages project → Custom domains
2. Add domain: `moonote.me`
3. Add DNS record:
   - Type: `CNAME`
   - Name: `@` (or subdomain like `www`)
   - Target: `<your-pages-project>.pages.dev`
   - Proxy: Enabled (orange cloud)

## Headers Configuration (Optional)

Create `_headers` file in repository root for custom headers:

```
/*
  X-Frame-Options: DENY
  X-Content-Type-Options: nosniff
  Referrer-Policy: strict-origin-when-cross-origin
  Permissions-Policy: geolocation=(), microphone=(), camera=()

/data/content.json
  Cache-Control: public, max-age=3600
  Content-Type: application/json; charset=utf-8

/assets/*
  Cache-Control: public, max-age=31536000, immutable

/js/*
  Cache-Control: public, max-age=31536000, immutable
```

## Redirects Configuration (Optional)

Create `_redirects` file in repository root:

```
# Redirect www to apex domain
https://www.moonote.me/* https://moonote.me/:splat 301

# Redirect old paths (if any)
# /old-path /new-path 301
```

## Production Checklist

- [x] Logo optimized (16KB)
- [x] JavaScript minified (8.8KB total)
- [x] Content JSON validated (30KB)
- [x] Performance targets met
- [ ] Manual browser tests completed
- [ ] Accessibility tests completed
- [ ] Mobile responsiveness verified
- [ ] All 4 languages tested
- [ ] Contact links functional
- [ ] Custom domain configured

## Monitoring

Cloudflare Pages provides:
- **Analytics**: Page views, unique visitors
- **Web Analytics**: Core Web Vitals
- **Deployment logs**: Build/deploy history

Access via: Cloudflare Dashboard → Pages → [project] → Analytics

## Rollback

To rollback to previous deployment:
1. Go to Cloudflare Pages project → Deployments
2. Find previous successful deployment
3. Click "Rollback to this deployment"

## Local Development

```bash
# Start local server
python3 -m http.server 8000

# Or use Wrangler for local Cloudflare Pages emulation
wrangler pages dev .

# Visit http://localhost:8000
```

## Support

- **Cloudflare Pages Docs**: https://developers.cloudflare.com/pages/
- **Wrangler Docs**: https://developers.cloudflare.com/workers/wrangler/
- **GitHub Repo**: (add your repo URL here)
